{"level":"error","message":"Error fetching routes: Unknown column 'createdAt' in 'field list'","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `id`, `origin`, `destination`, `distance_km`, `estimated_time`, `policies`, `createdAt`, `updatedAt` FROM `Routes` AS `Route`;","sqlMessage":"Unknown column 'createdAt' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `id`, `origin`, `destination`, `distance_km`, `estimated_time`, `policies`, `createdAt`, `updatedAt` FROM `Routes` AS `Route`;","sqlMessage":"Unknown column 'createdAt' in 'field list'","sqlState":"42S22"},"service":"kukwenda-api","sql":"SELECT `id`, `origin`, `destination`, `distance_km`, `estimated_time`, `policies`, `createdAt`, `updatedAt` FROM `Routes` AS `Route`;","stack":"Error\n    at Query.run (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.select (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async Route.findAll (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/model.js:1140:21)\n    at async exports.getRoutes (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/src/controllers/admin/routesController.js:9:20)","timestamp":"2025-01-02 23:49:51"}
{"level":"error","message":"Error fetching routes: Unknown column 'createdAt' in 'field list'","name":"SequelizeDatabaseError","original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `id`, `origin`, `destination`, `distance_km`, `estimated_time`, `policies`, `createdAt`, `updatedAt` FROM `Routes` AS `Route`;","sqlMessage":"Unknown column 'createdAt' in 'field list'","sqlState":"42S22"},"parameters":{},"parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sql":"SELECT `id`, `origin`, `destination`, `distance_km`, `estimated_time`, `policies`, `createdAt`, `updatedAt` FROM `Routes` AS `Route`;","sqlMessage":"Unknown column 'createdAt' in 'field list'","sqlState":"42S22"},"service":"kukwenda-api","sql":"SELECT `id`, `origin`, `destination`, `distance_km`, `estimated_time`, `policies`, `createdAt`, `updatedAt` FROM `Routes` AS `Route`;","stack":"Error\n    at Query.run (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.select (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)\n    at async Route.findAll (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/model.js:1140:21)\n    at async exports.getRoutes (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/src/controllers/admin/routesController.js:9:20)","timestamp":"2025-01-03 00:25:23"}
{"level":"error","message":"Error fetching route with ID 1: Route.findById is not a function","service":"kukwenda-api","stack":"TypeError: Route.findById is not a function\n    at exports.getRouteById (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/src/controllers/admin/routesController.js:24:31)\n    at Layer.handle [as handle_request] (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-01-16 23:00:35"}
{"level":"error","message":"Error updating route with ID 1: Route.findById is not a function","service":"kukwenda-api","stack":"TypeError: Route.findById is not a function\n    at exports.updateRoute (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/src/controllers/admin/routesController.js:66:31)\n    at Layer.handle [as handle_request] (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/index.js:284:15\n    at param (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/index.js:365:14)\n    at param (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/index.js:421:3)\n    at next (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-01-16 23:12:02"}
{"fields":["route_id"],"index":"grouptickets_ibfk_1","level":"error","message":"Error deleting route with ID 1: Cannot delete or update a parent row: a foreign key constraint fails (`kukwenda_db`.`grouptickets`, CONSTRAINT `grouptickets_ibfk_1` FOREIGN KEY (`route_id`) REFERENCES `Routes` (`id`))","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `Routes` WHERE `id` = 1","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`kukwenda_db`.`grouptickets`, CONSTRAINT `grouptickets_ibfk_1` FOREIGN KEY (`route_id`) REFERENCES `Routes` (`id`))","sqlState":"23000"},"parameters":{},"parent":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `Routes` WHERE `id` = 1","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`kukwenda_db`.`grouptickets`, CONSTRAINT `grouptickets_ibfk_1` FOREIGN KEY (`route_id`) REFERENCES `Routes` (`id`))","sqlState":"23000"},"reltype":"parent","service":"kukwenda-api","sql":"DELETE FROM `Routes` WHERE `id` = 1","stack":"Error\n    at Query.run (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.delete (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/dialects/abstract/query-interface.js:393:12)\n    at async model.destroy (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/model.js:2627:16)\n    at async exports.deleteRoute (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/src/controllers/admin/routesController.js:102:5)","table":"Routes","timestamp":"2025-01-16 23:20:32"}
{"fields":["route_id"],"index":"promotions_ibfk_1","level":"error","message":"Error deleting route with ID 2: Cannot delete or update a parent row: a foreign key constraint fails (`kukwenda_db`.`promotions`, CONSTRAINT `promotions_ibfk_1` FOREIGN KEY (`route_id`) REFERENCES `Routes` (`id`))","name":"SequelizeForeignKeyConstraintError","original":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `Routes` WHERE `id` = 2","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`kukwenda_db`.`promotions`, CONSTRAINT `promotions_ibfk_1` FOREIGN KEY (`route_id`) REFERENCES `Routes` (`id`))","sqlState":"23000"},"parameters":{},"parent":{"code":"ER_ROW_IS_REFERENCED_2","errno":1451,"sql":"DELETE FROM `Routes` WHERE `id` = 2","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails (`kukwenda_db`.`promotions`, CONSTRAINT `promotions_ibfk_1` FOREIGN KEY (`route_id`) REFERENCES `Routes` (`id`))","sqlState":"23000"},"reltype":"parent","service":"kukwenda-api","sql":"DELETE FROM `Routes` WHERE `id` = 2","stack":"Error\n    at Query.run (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)\n    at /Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async MySQLQueryInterface.delete (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/dialects/abstract/query-interface.js:393:12)\n    at async model.destroy (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/node_modules/sequelize/lib/model.js:2627:16)\n    at async exports.deleteRoute (/Users/gelvy-mondestin.myssie-bingha/Desktop/oe/kda-admins/src/controllers/admin/routesController.js:102:5)","table":"Routes","timestamp":"2025-01-16 23:22:33"}
{"level":"error","message":"Fetched all buses","service":"kukwenda-api","timestamp":"2025-01-23 22:20:33"}
